<div class="container">
  <h2>POI Report</h2>
  <table class="table">
    <thead>
      <tr>
        <th>POI Location</th>
        <th>City</th>
        <th>State</th>
        <th (click)="changeSorting('MoldMin')">Mold Min <span [class]="selectedColumn('MoldMin')"></span></th>
        <th (click)="changeSorting('MoldAvg')">Mold Avg <span [class]="selectedColumn('MoldAvg')"></span></th>
        <th (click)="changeSorting('MoldMax')">Mold Max <span [class]="selectedColumn('MoldMax')"></span></th>
        <th (click)="changeSorting('AQMin')">AQ Min <span [class]="selectedColumn('AQMin')"></span></th>
        <th (click)="changeSorting('AQAvg')">AQ Avg <span [class]="selectedColumn('AQAvg')"></span></th>
        <th (click)="changeSorting('AQMax')">AQ Max <span [class]="selectedColumn('AQMax')"></span></th>
        <th (click)="changeSorting('numPoints')"># of Data Points <span [class]="selectedColumn('numPoints')"></span></th>
        <th (click)="changeSorting('Flag')">Flagged <span [class]="selectedColumn('Flag')"></span></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let poi of pois | async">
        <td>{{ poi.locationName }}</td>
        <td>{{ poi.City }}</td>
        <td>{{ poi.State }}</td>
        <td>{{ poi.MoldMin }}</td>
        <td>{{ poi.MoldAvg }}</td>
        <td>{{ poi.MoldMax }}</td>
        <td>{{ poi.AQMin }}</td>
        <td>{{ poi.AQAvg }}</td>
        <td>{{ poi.AQMax }}</td>
        <td>{{ poi.numPoints }}</td>
        <td>
            <span [class]="isFlagged(poi)"></span>
        </td>
      </tr>
    </tbody>
  </table>

  <button [routerLink]="['/home']" class="btn btn-danger">Back</button>
</div>
